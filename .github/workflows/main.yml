name: Notify Slack

on:
  push:
    branches:
      - main

jobs:
  notify-slack:
    runs-on: ubuntu-latest
    steps:
      - name: Send message to Slack
        uses: rtCamp/action-slack-notify@v2.2.0
        with:
          status: ${{ job.status }}
          text: "Build ${{ job.status }} for commit ${{ github.sha }} on branch ${{ github.ref }} by ${{ github.actor }}"
          fields: repo,message,author,action,workflow,job,commit,ref,eventName,refType,runNumber,runId
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK_URL }}
